{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","style","backgroundImage","link","name","length","Main","props","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","Object","keys","onClose","src","alt","api","token","groupId","this","url","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_handleResponse","data","body","JSON","stringify","id","PopupWithForm","isOpen","title","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","target","value","EditAvatarPopup","avatarRef","createRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","all","getUser","getInitialCards","userData","initialCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setAvatar","setUser","setCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d1d57333.chunk.js","sourcesContent":["function Header(){\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from \"react\"\r\n\r\nexport const  CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, onCardClick, onCardDelete, onCardLike}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = `place__delete-btn ${\r\n    isOwn && 'place__delete-btn_active'\r\n  }`;\r\n  const cardLikeButtonClassName = `place__like ${\r\n    isLiked && 'place__like_active'\r\n  }`;\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"place\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <div\r\n        className=\"place__image\"\r\n        style={{ backgroundImage: `url(${card.link})` }}\r\n        onClick={handleClick}\r\n      ></div>\r\n      <div className=\"place__footer\">\r\n        <h2 className=\"place__name\">{card.name}</h2>\r\n        <div className=\"place__like-wrapper\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n          <p className=\"place__counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main-content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__wrapper\">\r\n          <button\r\n            className=\"profile__avatar-btn\"\r\n            onClick={props.onEditAvatar}\r\n            style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n          >\r\n            <div className=\"profile__avatar\"></div>\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__title-inner\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                className=\"profile__edit-btn\"\r\n                type=\"button\"\r\n                onClick={props.onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__job\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-btn\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"places\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copy\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    // Условие что объект не пустой\r\n    <div\r\n      className={`popup popup_zoom-place ${\r\n        Object.keys(props.card).length && \"popup_opened\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container-place\">\r\n        <button\r\n          className=\"popup__close-btn\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <img\r\n          className=\"popup__place-image\"\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n        />\r\n        <h2 className=\"popup__place-title\">{props.card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(token, groupId) {\r\n    this.token = token;\r\n    this.groupId = groupId;\r\n    this.url = \"https://mesto.nomoreparties.co/v1/\";\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUser() {\r\n    return fetch(`${this.url + this.groupId}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this.token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUser(data) {\r\n    return fetch(`${this.url + this.groupId}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setAvatar(data) {\r\n    return fetch(`${this.url + this.groupId}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setCard(data) {\r\n    return fetch(`${this.url + this.groupId}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this.url + this.groupId}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this.token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(`${this.url + this.groupId}/cards/likes/${id}`, {\r\n      method: isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this.token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n  getInitialCards() {\r\n    return fetch(`${this.url + this.groupId}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this.token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api(\"4756f29e-7074-4b91-8a7b-c92b73652806\", \"cohort-24\");\r\n\r\nexport default api;\r\n","function PopupWithForm(props) {\r\n  return (\r\n      <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n        <div className=\"popup__container\">\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          <button className=\"popup__close-btn\" type=\"reset\" onClick={props.onClose}></button>\r\n          <form\r\n            className=\"popup__form\"\r\n            name={props.name}\r\n            onSubmit={props.onSubmit}\r\n          >\r\n          {props.children}\r\n            <button className=\"popup__submit-btn\" type=\"submit\">\r\n              {props.buttonText}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_name\"\r\n          id=\"profile-name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleNameChange}\r\n          value={name}\r\n        />\r\n        <span className=\"popup__error\" id=\"profile-name-error\"></span>\r\n      </div>\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_job\"\r\n          id=\"profile-job\"\r\n          type=\"text\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleDescriptionChange}\r\n          value={description}\r\n        />\r\n        <span className=\"popup__error\" id=\"profile-job-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.createRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_url\"\r\n          id=\"avatar-url\"\r\n          type=\"url\"\r\n          name=\"avatar\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__error\" id=\"avatar-url-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-place\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_name\"\r\n          id=\"place-name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          onChange={handleNameChange}\r\n          value={name}\r\n        />\r\n        <span className=\"popup__error\" id=\"place-name-error\">\r\n          Ошибка\r\n        </span>\r\n      </div>\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_url\"\r\n          id=\"place-url\"\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          onChange={handleLinkChange}\r\n          value={link}\r\n        />\r\n        <span className=\"popup__error\" id=\"place-url-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUser(), api.getInitialCards()])\r\n      .then(([userData, initialCards]) => {\r\n        setCurrentUser(userData);\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setUser(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .setAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api\r\n      .setCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n        <Main\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n          onEditProfile={handleEditProfileClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n        />\r\n        <Footer />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}